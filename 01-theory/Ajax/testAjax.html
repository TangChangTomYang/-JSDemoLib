<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax</title>
</head>
<body>


<h1>发送get 请求</h1>
<input type="button" value="发送get 请求" id="btnAjax">

<form action="ajaxGetRequest">
    
    <P>账号</P>
    <input type="text" name="account"></input>
    <input type="password"></input>
</form>



</body>
</html>


<script type="text/javascript">

    // 绑定点击事件
    document.querySelector('#btnAjax').onclick = function () {

        // 发送 Ajax 请求 需要5步

        // 1. 创建异步对象
        var ajaxObj = new XMLHttpRequest();

        //2. 设置请求的 url 等参数
        // 参数1: 请求的方法 
        // 参数2: 请求的url
        ajaxObj.open('get','testAjax.php');

        // 3. 发送请求
        ajaxObj.send();

        // 4. 注册事件  
        ajaxObj.onreadystatechange = function () {  
            console.log('Ajax  回调了'); 
            // 5. 在注册的事件中, 获取返回的内容 并修改页面的显示 
            if(ajaxObj.readyState ==4 && ajaxObj.status == 200 ){
                // 如果能来到这里, 说明数据完美的回来了, 并且请求的页面时存在的
                // 在此修改对应的内容即可 
                console.log('------以下是网络响应数据--------');
                console.log(ajaxObj.responseText); // 响应的数据保存在 异步对象的 属性中
            }
            else{
                console.log('------Ajax 网络请求 错误------------------');
                console.log("readyState: " + readystate);
                console.log("status: " + status);
            }
        }
    }

</script>